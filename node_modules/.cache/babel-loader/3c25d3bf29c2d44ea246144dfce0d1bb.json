{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zacha\\\\Desktop\\\\opencode-frontend\\\\src\\\\components\\\\UserInfo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UserInfo(props) {\n  _s();\n\n  var username = null;\n  var localUsername = localStorage.getItem('username');\n  var sessionUsername = sessionStorage.getItem('username');\n  var urlString = \"http://localhost:8080/api/v1/user/\" + props.postId;\n  var allQuestionsUrlString = \"http://localhost:8080/api/v1/question\";\n  var ctx;\n  var chartColors = [\"green\", \"yellow\", \"grey\"];\n  var chartValues;\n  var chartLabels = [\"Completed\", \"Attempted\", \"Not attempted\"];\n\n  function createChart(cx, cy, radius, arcwidth, values, colors) {\n    var tot = 0;\n    var accum = 0;\n    var PI = Math.PI;\n    var offset = -PI;\n    ctx.lineWidth = arcwidth;\n\n    for (var i = 0; i < values.length; i++) {\n      tot += values[i];\n    }\n\n    for (var i = 0; i < values.length; i++) {\n      ctx.beginPath();\n      ctx.arc(cx, cy, radius, offset + PI * (accum / tot), offset + PI * ((accum + values[i]) / tot));\n      ctx.strokeStyle = colors[i];\n      ctx.stroke();\n      accum += values[i];\n    }\n  }\n\n  if (localUsername != null) {\n    username = localUsername;\n  }\n\n  if (sessionUsername != null) {\n    username = sessionUsername;\n  }\n\n  useEffect(() => {\n    var total;\n    fetch(allQuestionsUrlString).then(response => response.json().then(function (json) {\n      total = json.length;\n    }));\n    fetch(urlString).then(response => response.json().then(function (json) {\n      console.log(json);\n      if (username === json.username) document.getElementById('edit-button').hidden = false;\n      var questionsCompleted = json.questionsCompleted.length;\n      var questionsAttempted = json.questionsAttempted.length - questionsCompleted;\n      var questionsUnattempted = total - questionsAttempted - questionsCompleted;\n      chartValues = [questionsCompleted, questionsAttempted, questionsUnattempted];\n      ctx = document.getElementById('canvas').getContext('2d');\n      createChart(100, 100, 80, 18, chartValues, chartColors);\n    }));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: \"#282c34\",\n      color: \"white\",\n      marginLeft: \"20%\",\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          float: \"left\",\n          marginLeft: \"3%\"\n        },\n        children: props.postId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"edit-button\",\n        hidden: \"true\",\n        style: {\n          float: \"right\",\n          margin: \"10px\"\n        },\n        children: \"Edit profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"canvas\",\n        style: {\n          float: \"left\",\n          marginLeft: \"3%\"\n        },\n        children: \"Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserInfo, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = UserInfo;\nexport default UserInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserInfo\");","map":{"version":3,"sources":["C:/Users/Zacha/Desktop/opencode-frontend/src/components/UserInfo.js"],"names":["React","useEffect","UserInfo","props","username","localUsername","localStorage","getItem","sessionUsername","sessionStorage","urlString","postId","allQuestionsUrlString","ctx","chartColors","chartValues","chartLabels","createChart","cx","cy","radius","arcwidth","values","colors","tot","accum","PI","Math","offset","lineWidth","i","length","beginPath","arc","strokeStyle","stroke","total","fetch","then","response","json","console","log","document","getElementById","hidden","questionsCompleted","questionsAttempted","questionsUnattempted","getContext","backgroundColor","color","marginLeft","width","display","flexDirection","float","margin"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AACrB,MAAIC,QAAQ,GAAG,IAAf;AACA,MAAIC,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAApB;AACA,MAAIC,eAAe,GAAGC,cAAc,CAACF,OAAf,CAAuB,UAAvB,CAAtB;AACA,MAAIG,SAAS,GAAG,uCAAuCP,KAAK,CAACQ,MAA7D;AACA,MAAIC,qBAAqB,GAAG,uCAA5B;AACA,MAAIC,GAAJ;AACA,MAAIC,WAAW,GAAG,CAAC,OAAD,EAAU,QAAV,EAAoB,MAApB,CAAlB;AACA,MAAIC,WAAJ;AACA,MAAIC,WAAW,GAAG,CAAC,WAAD,EAAc,WAAd,EAA2B,eAA3B,CAAlB;;AAEA,WAASC,WAAT,CAAqBC,EAArB,EAAyBC,EAAzB,EAA6BC,MAA7B,EAAqCC,QAArC,EAA+CC,MAA/C,EAAuDC,MAAvD,EAA+D;AAC3D,QAAIC,GAAG,GAAC,CAAR;AACA,QAAIC,KAAK,GAAC,CAAV;AACA,QAAIC,EAAE,GAACC,IAAI,CAACD,EAAZ;AACA,QAAIE,MAAM,GAAC,CAACF,EAAZ;AACAb,IAAAA,GAAG,CAACgB,SAAJ,GAAcR,QAAd;;AACA,SAAI,IAAIS,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACR,MAAM,CAACS,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAACN,MAAAA,GAAG,IAAEF,MAAM,CAACQ,CAAD,CAAX;AAAgB;;AACjD,SAAI,IAAIA,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACR,MAAM,CAACS,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAC5BjB,MAAAA,GAAG,CAACmB,SAAJ;AACAnB,MAAAA,GAAG,CAACoB,GAAJ,CAAQf,EAAR,EAAWC,EAAX,EAAcC,MAAd,EACIQ,MAAM,GAACF,EAAE,IAAED,KAAK,GAACD,GAAR,CADb,EAEII,MAAM,GAACF,EAAE,IAAE,CAACD,KAAK,GAACH,MAAM,CAACQ,CAAD,CAAb,IAAkBN,GAApB,CAFb;AAIAX,MAAAA,GAAG,CAACqB,WAAJ,GAAgBX,MAAM,CAACO,CAAD,CAAtB;AACAjB,MAAAA,GAAG,CAACsB,MAAJ;AACAV,MAAAA,KAAK,IAAEH,MAAM,CAACQ,CAAD,CAAb;AACH;AACJ;;AAED,MAAGzB,aAAa,IAAI,IAApB,EAA0B;AACtBD,IAAAA,QAAQ,GAAGC,aAAX;AACH;;AACD,MAAGG,eAAe,IAAI,IAAtB,EAA4B;AACxBJ,IAAAA,QAAQ,GAAGI,eAAX;AACH;;AAEDP,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAImC,KAAJ;AAEAC,IAAAA,KAAK,CAACzB,qBAAD,CAAL,CACG0B,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,UAASE,IAAT,EAAe;AACpDJ,MAAAA,KAAK,GAAGI,IAAI,CAACT,MAAb;AACD,KAFiB,CADpB;AAMAM,IAAAA,KAAK,CAAC3B,SAAD,CAAL,CACG4B,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,UAASE,IAAT,EAAe;AAClDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACE,UAAGpC,QAAQ,KAAKoC,IAAI,CAACpC,QAArB,EACIuC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,MAAvC,GAAgD,KAAhD;AAEJ,UAAIC,kBAAkB,GAAGN,IAAI,CAACM,kBAAL,CAAwBf,MAAjD;AACA,UAAIgB,kBAAkB,GAAGP,IAAI,CAACO,kBAAL,CAAwBhB,MAAxB,GAAiCe,kBAA1D;AACA,UAAIE,oBAAoB,GAAGZ,KAAK,GAAGW,kBAAR,GAA6BD,kBAAxD;AACA/B,MAAAA,WAAW,GAAG,CAAC+B,kBAAD,EAAqBC,kBAArB,EAAyCC,oBAAzC,CAAd;AACAnC,MAAAA,GAAG,GAAG8B,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCK,UAAlC,CAA6C,IAA7C,CAAN;AACAhC,MAAAA,WAAW,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,EAAe,EAAf,EAAmBF,WAAnB,EAAgCD,WAAhC,CAAX;AACL,KAXiB,CADpB;AAaD,GAtBM,EAsBJ,EAtBI,CAAT;AAwBA,sBACI;AAAK,IAAA,KAAK,EAAE;AAACoC,MAAAA,eAAe,EAAE,SAAlB;AAA6BC,MAAAA,KAAK,EAAE,OAApC;AAA6CC,MAAAA,UAAU,EAAE,KAAzD;AAAgEC,MAAAA,KAAK,EAAC,MAAtE;AAA8EC,MAAAA,OAAO,EAAE,MAAvF;AAA+FC,MAAAA,aAAa,EAAE;AAA9G,KAAZ;AAAA,4BACI;AAAA,8BACI;AAAI,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAE,MAAR;AAAgBJ,UAAAA,UAAU,EAAE;AAA5B,SAAX;AAAA,kBAA+CjD,KAAK,CAACQ;AAArD;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,EAAE,EAAC,aAAX;AAAyB,QAAA,MAAM,EAAC,MAAhC;AAAuC,QAAA,KAAK,EAAE;AAAC6C,UAAAA,KAAK,EAAC,OAAP;AAAgBC,UAAAA,MAAM,EAAC;AAAvB,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAKI;AAAA,6BACI;AAAQ,QAAA,EAAE,EAAC,QAAX;AAAoB,QAAA,KAAK,EAAE;AAACD,UAAAA,KAAK,EAAE,MAAR;AAAgBJ,UAAAA,UAAU,EAAE;AAA5B,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YALJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH;;GAxEQlD,Q;;KAAAA,Q;AA0ET,eAAeA,QAAf","sourcesContent":["import React, { useEffect } from \"react\";\n\nfunction UserInfo(props) {\n    var username = null\n    var localUsername = localStorage.getItem('username')\n    var sessionUsername = sessionStorage.getItem('username')\n    var urlString = \"http://localhost:8080/api/v1/user/\" + props.postId\n    var allQuestionsUrlString = \"http://localhost:8080/api/v1/question\"\n    var ctx\n    var chartColors = [\"green\", \"yellow\", \"grey\"]\n    var chartValues\n    var chartLabels = [\"Completed\", \"Attempted\", \"Not attempted\"]\n\n    function createChart(cx, cy, radius, arcwidth, values, colors) {\n        var tot=0;\n        var accum=0;\n        var PI=Math.PI;\n        var offset=-PI;\n        ctx.lineWidth=arcwidth;\n        for(var i=0;i<values.length;i++){tot+=values[i];}\n        for(var i=0;i<values.length;i++){\n            ctx.beginPath();\n            ctx.arc(cx,cy,radius,\n                offset+PI*(accum/tot),\n                offset+PI*((accum+values[i])/tot)\n            );\n            ctx.strokeStyle=colors[i];\n            ctx.stroke();\n            accum+=values[i];\n        }\n    }\n\n    if(localUsername != null) {\n        username = localUsername\n    }\n    if(sessionUsername != null) {\n        username = sessionUsername\n    }\n\n    useEffect(() => {\n        var total\n\n        fetch(allQuestionsUrlString)\n          .then(response => response.json().then(function(json) {\n            total = json.length\n          }));\n\n\n        fetch(urlString)\n          .then(response => response.json().then(function(json) {\n              console.log(json)\n                if(username === json.username)\n                    document.getElementById('edit-button').hidden = false\n\n                var questionsCompleted = json.questionsCompleted.length\n                var questionsAttempted = json.questionsAttempted.length - questionsCompleted\n                var questionsUnattempted = total - questionsAttempted - questionsCompleted\n                chartValues = [questionsCompleted, questionsAttempted, questionsUnattempted]\n                ctx = document.getElementById('canvas').getContext('2d')\n                createChart(100, 100, 80, 18, chartValues, chartColors)\n          }));\n      }, [])\n\n    return (\n        <div style={{backgroundColor: \"#282c34\", color: \"white\", marginLeft: \"20%\", width:\"100%\", display: \"flex\", flexDirection: \"column\"}}>\n            <div>\n                <h1 style={{float: \"left\", marginLeft: \"3%\"}}>{props.postId}</h1>\n                <button id=\"edit-button\" hidden=\"true\" style={{float:\"right\", margin:\"10px\"}}>Edit profile</button>\n            </div>\n            <div>\n                <canvas id=\"canvas\" style={{float: \"left\", marginLeft: \"3%\"}}>Test</canvas>\n            </div>\n        </div>\n    );\n}\n\nexport default UserInfo;"]},"metadata":{},"sourceType":"module"}