{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zacha\\\\Desktop\\\\opencode-frontend\\\\src\\\\components\\\\UserInfo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UserInfo(props) {\n  _s();\n\n  var username = null;\n  var localUsername = localStorage.getItem('username');\n  var sessionUsername = sessionStorage.getItem('username');\n  var urlString = \"http://localhost:8080/api/v1/user/\" + props.postId;\n  var canvas = document.getElementById('canvas');\n  var ctx;\n  var chartColors = [\"green\", \"yellow\", \"grey\"];\n  var chartValues = [];\n  var chartLabels = [\"Completed\", \"Attempted\", \"Not attempted\"];\n\n  function createChart(cx, cy, radius, arcwidth, values, colors, labels, selectedValue) {\n    var tot = 0;\n    var accum = 0;\n    var PI = Math.PI;\n    var PI2 = PI * 2;\n    var offset = -PI / 2;\n    ctx.lineWidth = arcwidth;\n\n    for (var i = 0; i < values.length; i++) {\n      tot += values[i];\n    }\n\n    for (var i = 0; i < values.length; i++) {\n      ctx.beginPath();\n      ctx.arc(cx, cy, radius, offset + PI2 * (accum / tot), offset + PI2 * ((accum + values[i]) / tot));\n      ctx.strokeStyle = colors[i];\n      ctx.stroke();\n      accum += values[i];\n    }\n\n    var innerRadius = radius - arcwidth - 3;\n    ctx.beginPath();\n    ctx.arc(cx, cy, innerRadius, 0, PI2);\n    ctx.fillStyle = colors[selectedValue];\n    ctx.fill();\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'bottom';\n    ctx.fillStyle = 'white';\n    ctx.font = innerRadius + 'px verdana';\n    ctx.fillText(values[selectedValue], cx, cy + innerRadius * .9);\n    ctx.font = innerRadius / 4 + 'px verdana';\n    ctx.fillText(labels[selectedValue], cx, cy - innerRadius * .25);\n  }\n\n  if (localUsername != null) {\n    username = localUsername;\n  }\n\n  if (sessionUsername != null) {\n    username = sessionUsername;\n  }\n\n  useEffect(() => {\n    fetch(urlString).then(response => response.json().then(function (json) {\n      if (username === json.username) document.getElementById('edit-button').hidden = false;\n      ctx = canvas.getContext('2d');\n      createChart(150, 150, 125, 25, chartValues, chartColors, chartLabels, 0);\n    }));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: \"#282c34\",\n      color: \"white\",\n      marginLeft: \"20%\",\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          float: \"left\",\n          marginLeft: \"3%\"\n        },\n        children: props.postId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"edit-button\",\n        hidden: \"true\",\n        style: {\n          float: \"right\",\n          margin: \"10px\"\n        },\n        children: \"Edit profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"canvas\",\n        style: {\n          float: \"left\",\n          marginLeft: \"3%\"\n        },\n        children: \"Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserInfo, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = UserInfo;\nexport default UserInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserInfo\");","map":{"version":3,"sources":["C:/Users/Zacha/Desktop/opencode-frontend/src/components/UserInfo.js"],"names":["React","useEffect","UserInfo","props","username","localUsername","localStorage","getItem","sessionUsername","sessionStorage","urlString","postId","canvas","document","getElementById","ctx","chartColors","chartValues","chartLabels","createChart","cx","cy","radius","arcwidth","values","colors","labels","selectedValue","tot","accum","PI","Math","PI2","offset","lineWidth","i","length","beginPath","arc","strokeStyle","stroke","innerRadius","fillStyle","fill","textAlign","textBaseline","font","fillText","fetch","then","response","json","hidden","getContext","backgroundColor","color","marginLeft","width","display","flexDirection","float","margin"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\n\nfunction UserInfo(props) {\n    var username = null\n    var localUsername = localStorage.getItem('username')\n    var sessionUsername = sessionStorage.getItem('username')\n    var urlString = \"http://localhost:8080/api/v1/user/\" + props.postId\n    var canvas = document.getElementById('canvas')\n    var ctx\n    var chartColors = [\"green\", \"yellow\", \"grey\"]\n    var chartValues = []\n    var chartLabels = [\"Completed\", \"Attempted\", \"Not attempted\"]\n\n    function createChart(cx, cy, radius, arcwidth, values, colors, labels, selectedValue) {\n        var tot=0;\n        var accum=0;\n        var PI=Math.PI;\n        var PI2=PI*2;\n        var offset=-PI/2;\n        ctx.lineWidth=arcwidth;\n        for(var i=0;i<values.length;i++){tot+=values[i];}\n        for(var i=0;i<values.length;i++){\n            ctx.beginPath();\n            ctx.arc(cx,cy,radius,\n                offset+PI2*(accum/tot),\n                offset+PI2*((accum+values[i])/tot)\n            );\n            ctx.strokeStyle=colors[i];\n            ctx.stroke();\n            accum+=values[i];\n        }\n        var innerRadius=radius-arcwidth-3;\n        ctx.beginPath();\n        ctx.arc(cx,cy,innerRadius,0,PI2);\n        ctx.fillStyle=colors[selectedValue];\n        ctx.fill();\n        ctx.textAlign='center';\n        ctx.textBaseline='bottom';\n        ctx.fillStyle='white';\n        ctx.font=(innerRadius)+'px verdana';\n        ctx.fillText(values[selectedValue],cx,cy+innerRadius*.9);\n        ctx.font=(innerRadius/4)+'px verdana';\n        ctx.fillText(labels[selectedValue],cx,cy-innerRadius*.25);\n    }\n\n    if(localUsername != null) {\n        username = localUsername\n    }\n    if(sessionUsername != null) {\n        username = sessionUsername\n    }\n\n    useEffect(() => {\n        fetch(urlString)\n          .then(response => response.json().then(function(json) {\n                if(username === json.username)\n                    document.getElementById('edit-button').hidden = false\n\n                ctx = canvas.getContext('2d')\n                createChart(150, 150, 125, 25, chartValues, chartColors, chartLabels, 0)\n          }));\n      }, [])\n\n    return (\n        <div style={{backgroundColor: \"#282c34\", color: \"white\", marginLeft: \"20%\", width:\"100%\", display: \"flex\", flexDirection: \"column\"}}>\n            <div>\n                <h1 style={{float: \"left\", marginLeft: \"3%\"}}>{props.postId}</h1>\n                <button id=\"edit-button\" hidden=\"true\" style={{float:\"right\", margin:\"10px\"}}>Edit profile</button>\n            </div>\n            <div>\n                <canvas id=\"canvas\" style={{float: \"left\", marginLeft: \"3%\"}}>Test</canvas>\n            </div>\n        </div>\n    );\n}\n\nexport default UserInfo;"]},"metadata":{},"sourceType":"module"}